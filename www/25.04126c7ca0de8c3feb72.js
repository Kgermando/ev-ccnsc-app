(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{Ag1l:function(e,t,i){"use strict";i.r(t),i.d(t,"CovidModule",(function(){return le}));var o=i("Valr"),r=i("DUip"),n=i("TYT/"),a=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Lb({type:e,selectors:[["app-covid"]],decls:3,vars:0,consts:[[1,"banner"]],template:function(e,t){1&e&&(n.Xb(0,"div",0),n.Jc(1,"COVID-19"),n.Wb(),n.Sb(2,"router-outlet"))},directives:[r.j],styles:[".banner[_ngcontent-%COMP%]{border-left:6px solid #00f;height:40px;margin-top:10px;margin-left:10px;padding-top:10px;padding-left:10px;font-size:20px}"]}),e}(),c=i("2WpN"),b=i("l8De"),m=i("QJY3"),d=i("gZta"),l=i("tOvj"),u=i("o1mG"),s=i("5msO"),p=i("uLXW"),v=i("eHTH"),f=i("cSbt"),h=i("agxM"),C=i("TmZT"),g=i("p+mS"),W=i("MqYC");function X(e,t){if(1&e&&(n.Xb(0,"mat-option",21),n.Jc(1),n.Wb()),2&e){var i=t.$implicit;n.qc("value",i),n.Db(1),n.Lc(" ",i," ")}}function N(e,t){if(1&e&&(n.Xb(0,"mat-option",21),n.Jc(1),n.Wb()),2&e){var i=t.$implicit;n.qc("value",i),n.Db(1),n.Lc(" ",i," ")}}function S(e,t){if(1&e&&(n.Xb(0,"option",21),n.Jc(1),n.Wb()),2&e){var i=t.$implicit;n.qc("value",i.name),n.Db(1),n.Kc(i.name)}}function D(e,t){if(1&e&&(n.Xb(0,"option",21),n.Jc(1),n.Wb()),2&e){var i=t.$implicit;n.qc("value",i),n.Db(1),n.Kc(i)}}function F(e,t){if(1&e&&(n.Xb(0,"option",21),n.Jc(1),n.Wb()),2&e){var i=t.$implicit;n.qc("value",i),n.Db(1),n.Kc(i)}}var y=function(){function e(e,t,i,o,r,n){this.storage=e,this.db=t,this.router=i,this.fb=o,this.covidService=r,this.snackbar=n,this.qualites=["Tr\xe8s Bonne","Bonne","Moyen","Mauvaise","Tr\xe8s Mauvaise"],this.booleens=["OUI","NON"],this.covidInfo={id:"",PhotoUrl:"",NbreTotalContamine:0,NbreContaminerFemme:0,NbreTotalGueris:0,NbreGuerisFemme:0,NbreTotalDeces:0,NbreDecesFemme:0,EtatFinancementStructureSanitaire:"",AccesbiliteStructureSantairePopulation:"",RapportGeneraleCovid:"",Province:"",CommunaleUrbain:"",CheferieSecteur:"",Created:null,agentId:""},this.isPreview=!1,this.isLoading=!1,this.countryList=b.a}return e.prototype.ngOnInit=function(){this.getUserId(),this.makingaddCovidForm()},e.prototype.makingaddCovidForm=function(){this.addCovidForm=this.fb.group({NbreContaminerFemme:["",m.r.required],NbreTotalContamine:["",m.r.required],NbreGuerisFemme:["",m.r.required],NbreTotalGueris:["",m.r.required],NbreDecesFemme:["",m.r.required],NbreTotalDeces:["",m.r.required],EtatFinancementStructureSanitaire:["",m.r.required],AccesbiliteStructureSantairePopulation:["",m.r.required],RapportGeneraleCovid:["",m.r.required],Province:["",m.r.required],CommunaleUrbain:["",m.r.required],CheferieSecteur:["",m.r.required]})},e.prototype.getUserId=function(){var e=this;this.covidService.getUserId().subscribe((function(t){e.getagentId=t}))},e.prototype.onSubmit=function(){this.addCovidForm.valid?(this.isLoading=!0,this.covidInfo={NbreContaminerFemme:this.addCovidForm.value.NbreContaminerFemme,NbreTotalContamine:this.addCovidForm.value.NbreTotalContamine,NbreGuerisFemme:this.addCovidForm.value.NbreGuerisFemme,NbreTotalGueris:this.addCovidForm.value.NbreTotalGueris,NbreDecesFemme:this.addCovidForm.value.NbreDecesFemme,NbreTotalDeces:this.addCovidForm.value.NbreTotalDeces,EtatFinancementStructureSanitaire:this.addCovidForm.value.EtatFinancementStructureSanitaire,AccesbiliteStructureSantairePopulation:this.addCovidForm.value.AccesbiliteStructureSantairePopulation,RapportGeneraleCovid:this.addCovidForm.value.RapportGeneraleCovid,Province:this.addCovidForm.value.Province,CommunaleUrbain:this.addCovidForm.value.CommunaleUrbain,CheferieSecteur:this.addCovidForm.value.CheferieSecteur,Created:new Date,agentId:this.getagentId},this.covidService.createCovid(this.covidInfo),this.addCovidForm.reset(),this.showSnackbar(),this.router.navigate(["/layouts/sante/covid/covid-list"])):this.openErrorBar()},e.prototype.showSnackbar=function(){this.snackbar.open("Rapports sant\xe9 Envoy\xe9!","",{duration:8e3})},e.prototype.openErrorBar=function(){this.snackbar.open("Erreur d'enregistrement!","",{duration:6e3})},e.prototype.changeCountry=function(e){this.ville=this.countryList.find((function(t){return t.name==e})).ville,this.secteurCheferie=this.countryList.find((function(t){return t.name==e})).secteurCheferie},e.prototype.toggleHover=function(e){this.isHovering=e},e.prototype.startUpload=function(e){var t=this;this.isPreview=!0;var i=e.item(0);if("image"===i.type.split("/")[0]){var o="Covid/"+(new Date).getTime()+"_"+i.name;this.storage.ref(o),this.task=this.storage.upload(o,i,{customMetadata:{app:"My AngularFire-powered PWA!"}}),this.percentage=this.task.percentageChanges(),this.snapshot=this.task.snapshotChanges().pipe(Object(c.a)((function(){t.downloadURL=t.storage.ref(o).getDownloadURL(),console.log(t.downloadURL),t.downloadURL.subscribe((function(e){e&&(t.imgDownloadUrl=e)}))})))}else console.error("unsupported file type :( ")},e.prototype.isActive=function(e){return"running"===e.state&&e.bytesTransferred<e.totalBytes},e.\u0275fac=function(t){return new(t||e)(n.Rb(d.a),n.Rb(l.a),n.Rb(r.e),n.Rb(m.c),n.Rb(u.a),n.Rb(s.a))},e.\u0275cmp=n.Lb({type:e,selectors:[["app-covid-add"]],decls:75,vars:7,consts:[[1,"container"],[3,"formGroup"],["fxLayoutAlign","center center",1,"card","shadow","p-3","mb-5","bg-white","rounded"],[1,"form-row"],[1,"form-group","col-md-6"],["type","number","matInput","","placeholder","Nombre total des Contamin\xe9s","formControlName","NbreTotalContamine"],["type","number","matInput","","placeholder","Nombre de Contamin\xe9s F\xe9minin","formControlName","NbreContaminerFemme"],["type","number","matInput","","placeholder","Nombre total des Gueris","formControlName","NbreTotalGueris"],["type","number","matInput","","placeholder","Nombre de Gueris F\xe9minin","formControlName","NbreGuerisFemme"],["type","number","matInput","","placeholder","Nombre total des D\xe9c\xe8s","formControlName","NbreTotalDeces"],["type","number","matInput","","placeholder","Nombre de D\xe9c\xe8s F\xe9minin","formControlName","NbreDecesFemme"],[1,"form-group","col-md-12"],["formControlName","EtatFinancementStructureSanitaire"],[3,"value",4,"ngFor","ngForOf"],["formControlName","AccesbiliteStructureSantairePopulation"],["matNativeControl","","formControlName","Province",3,"change"],["matNativeControl","","formControlName","CommunaleUrbain"],["value","volvo"],["matNativeControl","","formControlName","CheferieSecteur"],["data","<p>Etat G\xe9n\xe9ral COVID-19.</p>","formControlName","RapportGeneraleCovid"],["type","submit","mat-raised-button","","color","primary",1,"btn",3,"disabled","click"],[3,"value"]],template:function(e,t){1&e&&(n.Xb(0,"div",0),n.Xb(1,"form",1),n.Xb(2,"div",2),n.Xb(3,"div",3),n.Xb(4,"div",4),n.Xb(5,"mat-form-field"),n.Xb(6,"mat-label"),n.Jc(7,"Nombre de Contamin\xe9s"),n.Wb(),n.Sb(8,"input",5),n.Wb(),n.Wb(),n.Xb(9,"div",4),n.Xb(10,"mat-form-field"),n.Xb(11,"mat-label"),n.Jc(12,"Nombre de Contamin\xe9s F\xe9minin"),n.Wb(),n.Sb(13,"input",6),n.Wb(),n.Wb(),n.Xb(14,"div",4),n.Xb(15,"mat-form-field"),n.Xb(16,"mat-label"),n.Jc(17,"Nombre de Gueris"),n.Wb(),n.Sb(18,"input",7),n.Wb(),n.Wb(),n.Xb(19,"div",4),n.Xb(20,"mat-form-field"),n.Xb(21,"mat-label"),n.Jc(22,"Nombre de Gueris F\xe9minin"),n.Wb(),n.Sb(23,"input",8),n.Wb(),n.Wb(),n.Xb(24,"div",4),n.Xb(25,"mat-form-field"),n.Xb(26,"mat-label"),n.Jc(27,"Nombre de D\xe9c\xe8s"),n.Wb(),n.Sb(28,"input",9),n.Wb(),n.Wb(),n.Xb(29,"div",4),n.Xb(30,"mat-form-field"),n.Xb(31,"mat-label"),n.Jc(32,"Nombre de D\xe9c\xe8s F\xe9minin"),n.Wb(),n.Sb(33,"input",10),n.Wb(),n.Wb(),n.Xb(34,"div",11),n.Xb(35,"mat-form-field"),n.Xb(36,"mat-label"),n.Jc(37,"Etat de Financement des Structures Sanitaire"),n.Wb(),n.Xb(38,"mat-select",12),n.Hc(39,X,2,2,"mat-option",13),n.Wb(),n.Wb(),n.Wb(),n.Xb(40,"div",11),n.Xb(41,"mat-form-field"),n.Xb(42,"mat-label"),n.Jc(43,"Accesbilit\xe9 des Structures Santaire \xe0 la Population"),n.Wb(),n.Xb(44,"mat-select",14),n.Hc(45,N,2,2,"mat-option",13),n.Wb(),n.Wb(),n.Wb(),n.Xb(46,"div",11),n.Xb(47,"mat-form-field"),n.Xb(48,"mat-label"),n.Jc(49,"Province"),n.Wb(),n.Xb(50,"select",15),n.fc("change",(function(e){return t.changeCountry(e.target.value)})),n.Hc(51,S,2,2,"option",13),n.Wb(),n.Wb(),n.Wb(),n.Xb(52,"div",11),n.Xb(53,"mat-form-field"),n.Xb(54,"mat-label"),n.Jc(55,"Ville"),n.Wb(),n.Xb(56,"select",16),n.Xb(57,"option",17),n.Jc(58,"== Aucun selectionner =="),n.Wb(),n.Hc(59,D,2,2,"option",13),n.Wb(),n.Wb(),n.Wb(),n.Xb(60,"div",11),n.Xb(61,"mat-form-field"),n.Xb(62,"mat-label"),n.Jc(63,"Cheferie / Secteur"),n.Wb(),n.Xb(64,"select",18),n.Xb(65,"option",17),n.Jc(66,"== Aucun selectionner =="),n.Wb(),n.Hc(67,F,2,2,"option",13),n.Wb(),n.Wb(),n.Wb(),n.Xb(68,"div",11),n.Xb(69,"mat-label"),n.Jc(70,"Etat G\xe9n\xe9ral COVID-19"),n.Wb(),n.Sb(71,"ckeditor",19),n.Wb(),n.Xb(72,"div",11),n.Xb(73,"button",20),n.fc("click",(function(){return t.onSubmit()})),n.Jc(74," Enregistrer "),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&e&&(n.Db(1),n.pc("formGroup",t.addCovidForm),n.Db(38),n.pc("ngForOf",t.qualites),n.Db(6),n.pc("ngForOf",t.booleens),n.Db(6),n.pc("ngForOf",t.countryList),n.Db(8),n.pc("ngForOf",t.ville),n.Db(8),n.pc("ngForOf",t.secteurCheferie),n.Db(6),n.pc("disabled",!t.addCovidForm.valid))},directives:[m.t,m.k,m.e,p.b,v.b,v.e,m.n,f.b,m.b,m.j,m.d,h.a,o.m,m.q,m.m,m.s,C.a,g.b,W.n],styles:[".btn[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),e}(),J=i("mrSG"),w=i("ETwC"),P=i("nbAZ"),I=i("Byqp"),L=i("GsDI");function G(e,t){1&e&&(n.Xb(0,"th",17),n.Jc(1," Date et Heure "),n.Wb())}var T=function(e){return["/layouts/sante/covid/covid-view",e]};function O(e,t){if(1&e&&(n.Xb(0,"mat-cell"),n.Xb(1,"a",18),n.Jc(2),n.kc(3,"date"),n.Wb(),n.Wb()),2&e){var i=t.$implicit;n.Db(1),n.pc("routerLink",n.tc(5,T,i.id)),n.Db(1),n.Kc(n.mc(3,2,i.Created.toDate(),"dd/MM/yyyy HH:mm:ss"))}}function R(e,t){1&e&&(n.Xb(0,"th",17),n.Jc(1," Etat Financement des Structures Sanitaire "),n.Wb())}function k(e,t){if(1&e&&(n.Xb(0,"td",19),n.Jc(1),n.Wb()),2&e){var i=t.$implicit;n.Db(1),n.Lc(" ",i.EtatFinancementStructureSanitaire,"")}}function A(e,t){1&e&&(n.Xb(0,"th",17),n.Jc(1," Accesbilit\xe9 aux Structures Santaire par la Population "),n.Wb())}function M(e,t){if(1&e&&(n.Xb(0,"td",19),n.Jc(1),n.Wb()),2&e){var i=t.$implicit;n.Db(1),n.Lc(" ",i.AccesbiliteStructureSantairePopulation,"")}}function H(e,t){1&e&&(n.Xb(0,"th",17),n.Jc(1," Province "),n.Wb())}function U(e,t){if(1&e&&(n.Xb(0,"td",19),n.Jc(1),n.Wb()),2&e){var i=t.$implicit;n.Db(1),n.Lc(" ",i.Province,"")}}function x(e,t){1&e&&(n.Xb(0,"th",17),n.Jc(1," Modifiez "),n.Wb())}var V=function(e){return["/layouts/sante/covid/covid-edit",e]};function E(e,t){if(1&e&&(n.Xb(0,"td",19),n.Xb(1,"a",18),n.Xb(2,"mat-icon"),n.Jc(3,"edit"),n.Wb(),n.Wb(),n.Wb()),2&e){var i=t.$implicit;n.Db(1),n.pc("routerLink",n.tc(1,V,i.id))}}function q(e,t){1&e&&(n.Xb(0,"th",17),n.Jc(1," Supprimez "),n.Wb())}function _(e,t){if(1&e){var i=n.Yb();n.Xb(0,"td",19),n.Xb(1,"a",20),n.fc("click",(function(){n.Ac(i);var e=t.$implicit;return n.jc().removeProduct(e.id)})),n.Xb(2,"mat-icon"),n.Jc(3,"delete_sweep"),n.Wb(),n.Wb(),n.Wb()}}function B(e,t){1&e&&n.Sb(0,"tr",21)}function $(e,t){1&e&&n.Sb(0,"tr",22)}var j=function(){return[10,20,30]},z=function(){function e(e,t){this.convidService=e,this.router=t,this.displayedColumns=["Created","EtatFinancementStructureSanitaire","AccesbiliteStructureSantairePopulation","Province","edit","remove"]}return e.prototype.ngOnInit=function(){var e=this;this.convidService.getCovidByAgent().subscribe((function(t){var i=t.map((function(e){return Object(J.a)({id:e.payload.doc.id},e.payload.doc.data())}));e.dataSource=new w.k(i),e.dataSource.sort=e.sort,e.dataSource.paginator=e.paginator}))},e.prototype.addProductClick=function(){this.router.navigate(["/layouts/sante/covid/covid-add"])},e.prototype.removeProduct=function(e){this.convidService.removeCovidByID(e)},e.\u0275fac=function(t){return new(t||e)(n.Rb(u.a),n.Rb(r.e))},e.\u0275cmp=n.Lb({type:e,selectors:[["app-covid-list"]],viewQuery:function(e,t){var i;1&e&&(n.Fc(I.a,!0),n.Fc(P.a,!0)),2&e&&(n.wc(i=n.gc())&&(t.sort=i.first),n.wc(i=n.gc())&&(t.paginator=i.first))},decls:29,vars:5,consts:[[1,"container","eco-list"],["mat-raised-button","","color","primary",1,"mat-elevation-z8",3,"click"],["fxLayout","column",1,"m-10","mat-elevation-z8"],[1,"example-container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","Created","sticky",""],["mat-header-cell","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","EtatFinancementStructureSanitaire"],["mat-cell","",4,"matCellDef"],["matColumnDef","AccesbiliteStructureSantairePopulation"],["matColumnDef","Province"],["matColumnDef","edit"],["matColumnDef","remove"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell",""],[3,"routerLink"],["mat-cell",""],[3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(n.Xb(0,"section",0),n.Xb(1,"button",1),n.fc("click",(function(){return t.addProductClick()})),n.Xb(2,"mat-icon"),n.Jc(3,"add"),n.Wb(),n.Wb(),n.Sb(4,"br"),n.Xb(5,"div",2),n.Xb(6,"div",3),n.Xb(7,"table",4),n.Vb(8,5),n.Hc(9,G,2,0,"th",6),n.Hc(10,O,4,7,"mat-cell",7),n.Ub(),n.Vb(11,8),n.Hc(12,R,2,0,"th",6),n.Hc(13,k,2,1,"td",9),n.Ub(),n.Vb(14,10),n.Hc(15,A,2,0,"th",6),n.Hc(16,M,2,1,"td",9),n.Ub(),n.Vb(17,11),n.Hc(18,H,2,0,"th",6),n.Hc(19,U,2,1,"td",9),n.Ub(),n.Vb(20,12),n.Hc(21,x,2,0,"th",6),n.Hc(22,E,4,3,"td",9),n.Ub(),n.Vb(23,13),n.Hc(24,q,2,0,"th",6),n.Hc(25,_,4,0,"td",9),n.Ub(),n.Hc(26,B,1,0,"tr",14),n.Hc(27,$,1,0,"tr",15),n.Wb(),n.Sb(28,"mat-paginator",16),n.Wb(),n.Wb(),n.Wb()),2&e&&(n.Db(7),n.pc("dataSource",t.dataSource),n.Db(19),n.pc("matHeaderRowDef",t.displayedColumns),n.Db(1),n.pc("matRowDefColumns",t.displayedColumns),n.Db(1),n.pc("pageSizeOptions",n.sc(4,j)))},directives:[g.b,L.a,p.c,w.j,I.a,w.c,w.e,w.b,w.g,w.i,P.a,w.d,w.a,r.h,w.f,w.h],pipes:[o.e],styles:[".eco-list[_ngcontent-%COMP%]{display:flex;flex-direction:column}.eco-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:flex-end;margin-right:10px}.example-container[_ngcontent-%COMP%]{overflow:auto}a[_ngcontent-%COMP%]{text-decoration:none}table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;border-right:1px solid #e0e0e0;padding-left:10px;padding-right:10px;padding-top:5px}td.mat-column-star[_ngcontent-%COMP%]{width:20px}td.mat-column-position[_ngcontent-%COMP%], th.mat-column-position[_ngcontent-%COMP%]{padding-left:5px}.mat-table-sticky[_ngcontent-%COMP%]:first-child{border-right:1px solid #e0e0e0}"]}),e}();function K(e,t){if(1&e&&(n.Xb(0,"mat-option",21),n.Jc(1),n.Wb()),2&e){var i=t.$implicit;n.qc("value",i),n.Db(1),n.Lc(" ",i," ")}}function Y(e,t){if(1&e&&(n.Xb(0,"mat-option",21),n.Jc(1),n.Wb()),2&e){var i=t.$implicit;n.qc("value",i),n.Db(1),n.Lc(" ",i," ")}}function Z(e,t){if(1&e&&(n.Xb(0,"option",21),n.Jc(1),n.Wb()),2&e){var i=t.$implicit;n.qc("value",i.name),n.Db(1),n.Kc(i.name)}}function Q(e,t){if(1&e&&(n.Xb(0,"option",21),n.Jc(1),n.Wb()),2&e){var i=t.$implicit;n.qc("value",i),n.Db(1),n.Kc(i)}}function ee(e,t){if(1&e&&(n.Xb(0,"option",21),n.Jc(1),n.Wb()),2&e){var i=t.$implicit;n.qc("value",i),n.Db(1),n.Kc(i)}}var te=function(){function e(e,t,i,o,r,n){this.storage=e,this.fb=t,this.router=i,this.covidService=o,this.snackbar=r,this.route=n,this.qualites=["Tr\xe8s Bonne","Bonne","Moyen","Mauvaise","Tr\xe8s Mauvaise"],this.booleens=["OUI","NON"],this.covidInfo={id:"",PhotoUrl:"",NbreTotalContamine:0,NbreContaminerFemme:0,NbreTotalGueris:0,NbreGuerisFemme:0,NbreTotalDeces:0,NbreDecesFemme:0,EtatFinancementStructureSanitaire:"",AccesbiliteStructureSantairePopulation:"",RapportGeneraleCovid:"",Province:"",CommunaleUrbain:"",CheferieSecteur:"",Created:null,agentId:""},this.isPreview=!1,this.isLoading=!1,this.countryList=b.a}return e.prototype.ngOnInit=function(){this.getUserId(),this.makingaddCovidForm();var e=this.route.snapshot.paramMap.get("id");e&&(this.getProductby(e),this.covidId=e)},e.prototype.getUserId=function(){var e=this;this.covidService.getUserId().subscribe((function(t){e.getagentId=t}))},e.prototype.makingaddCovidForm=function(){this.addCovidForm=this.fb.group({NbreContaminerFemme:[""],NbreTotalContamine:[""],NbreGuerisFemme:[""],NbreTotalGueris:[""],NbreDecesFemme:[""],NbreTotalDeces:[""],EtatFinancementStructureSanitaire:[""],AccesbiliteStructureSantairePopulation:[""],RapportGeneraleCovid:[""],Province:[""],CommunaleUrbain:[""],CheferieSecteur:[""]})},e.prototype.onSubmit=function(){this.addCovidForm.valid?(this.isLoading=!0,this.covidInfo={NbreContaminerFemme:this.addCovidForm.value.NbreContaminerFemme,NbreTotalContamine:this.addCovidForm.value.NbreTotalContamine,NbreGuerisFemme:this.addCovidForm.value.NbreGuerisFemme,NbreTotalGueris:this.addCovidForm.value.NbreTotalGueris,NbreDecesFemme:this.addCovidForm.value.NbreDecesFemme,NbreTotalDeces:this.addCovidForm.value.NbreTotalDeces,EtatFinancementStructureSanitaire:this.addCovidForm.value.EtatFinancementStructureSanitaire,AccesbiliteStructureSantairePopulation:this.addCovidForm.value.AccesbiliteStructureSantairePopulation,RapportGeneraleCovid:this.addCovidForm.value.RapportGeneraleCovid,Province:this.addCovidForm.value.Province,CommunaleUrbain:this.addCovidForm.value.CommunaleUrbain,CheferieSecteur:this.addCovidForm.value.CheferieSecteur,Created:new Date,agentId:this.getagentId},this.covidService.updateCovid(this.covidInfo,this.covidId),this.addCovidForm.reset(),this.showSnackbar(),this.router.navigate(["/layouts/sante/covid/covid-list"])):this.openErrorBar()},e.prototype.showSnackbar=function(){this.snackbar.open("Rapports sant\xe9 Modifi\xe9!","",{duration:6e3})},e.prototype.openErrorBar=function(){this.snackbar.open("Erreur de modification!","",{duration:6e3})},e.prototype.getProductby=function(e){var t=this;this.covidService.getCovidByCovidId(e).subscribe((function(e){t.patchData(e.data),t.covidInfo=e.data}))},e.prototype.patchData=function(e){this.addCovidForm.patchValue({NbreContaminerFemme:e.NbreContaminerFemme,NbreTotalContamine:e.NbreTotalContamine,NbreGuerisFemme:e.NbreGuerisFemme,NbreTotalGueris:e.NbreTotalGueris,NbreDecesFemme:e.NbreDecesFemme,NbreTotalDeces:e.NbreTotalDeces,EtatFinancementStructureSanitaire:e.EtatFinancementStructureSanitaire,AccesbiliteStructureSantairePopulation:e.AccesbiliteStructureSantairePopulation,RapportGeneraleCovid:e.RapportGeneraleCovid,Province:e.Province,CommunaleUrbain:e.CommunaleUrbain,CheferieSecteur:e.CheferieSecteur})},e.prototype.changeCountry=function(e){this.ville=this.countryList.find((function(t){return t.name==e})).ville,this.secteurCheferie=this.countryList.find((function(t){return t.name==e})).secteurCheferie},e.prototype.toggleHover=function(e){this.isHovering=e},e.prototype.startUpload=function(e){var t=this;this.isPreview=!0;var i=e.item(0);if("image"===i.type.split("/")[0]){var o="Covid/"+(new Date).getTime()+"_"+i.name;this.storage.ref(o),this.task=this.storage.upload(o,i,{customMetadata:{app:"My AngularFire-powered PWA!"}}),this.percentage=this.task.percentageChanges(),this.snapshot=this.task.snapshotChanges().pipe(Object(c.a)((function(){t.downloadURL=t.storage.ref(o).getDownloadURL(),t.downloadURL.subscribe((function(e){e&&(t.imgDownloadUrl=e)}))})))}else console.error("unsupported file type :( ")},e.prototype.isActive=function(e){return"running"===e.state&&e.bytesTransferred<e.totalBytes},e.\u0275fac=function(t){return new(t||e)(n.Rb(d.a),n.Rb(m.c),n.Rb(r.e),n.Rb(u.a),n.Rb(s.a),n.Rb(r.a))},e.\u0275cmp=n.Lb({type:e,selectors:[["app-covid-edit"]],decls:75,vars:7,consts:[[1,"container"],[3,"formGroup"],["fxLayoutAlign","center center",1,"card","shadow","p-3","mb-5","bg-white","rounded"],[1,"form-row"],[1,"form-group","col-md-6"],["type","number","matInput","","placeholder","Nombre total de Contamin\xe9s","formControlName","NbreTotalContamine"],["type","number","matInput","","placeholder","Nombre de Contamin\xe9s F\xe9minin","formControlName","NbreContaminerFemme"],["type","number","matInput","","placeholder","Nombre total de Gueris","formControlName","NbreTotalGueris"],["type","number","matInput","","placeholder","Nombre de Gueris F\xe9minin","formControlName","NbreGuerisFemme"],["type","number","matInput","","placeholder","Nombre total de D\xe9c\xe8s","formControlName","NbreTotalDeces"],["type","number","matInput","","placeholder","Nombre de D\xe9c\xe8s F\xe9minin","formControlName","NbreDecesFemme"],[1,"form-group","col-md-12"],["formControlName","EtatFinancementStructureSanitaire"],[3,"value",4,"ngFor","ngForOf"],["formControlName","AccesbiliteStructureSantairePopulation"],["matNativeControl","","formControlName","Province",3,"change"],["matNativeControl","","formControlName","CommunaleUrbain"],["value","volvo"],["matNativeControl","","formControlName","CheferieSecteur"],["data","<p>Etat G\xe9n\xe9ral COVID-19.</p>","formControlName","RapportGeneraleCovid"],["type","submit","mat-raised-button","","color","primary",1,"btn",3,"disabled","click"],[3,"value"]],template:function(e,t){1&e&&(n.Xb(0,"div",0),n.Xb(1,"form",1),n.Xb(2,"div",2),n.Xb(3,"div",3),n.Xb(4,"div",4),n.Xb(5,"mat-form-field"),n.Xb(6,"mat-label"),n.Jc(7,"Nombre de Contamin\xe9s masculin"),n.Wb(),n.Sb(8,"input",5),n.Wb(),n.Wb(),n.Xb(9,"div",4),n.Xb(10,"mat-form-field"),n.Xb(11,"mat-label"),n.Jc(12,"Nombre de Contamin\xe9s F\xe9minin"),n.Wb(),n.Sb(13,"input",6),n.Wb(),n.Wb(),n.Xb(14,"div",4),n.Xb(15,"mat-form-field"),n.Xb(16,"mat-label"),n.Jc(17,"Nombre de Gueris"),n.Wb(),n.Sb(18,"input",7),n.Wb(),n.Wb(),n.Xb(19,"div",4),n.Xb(20,"mat-form-field"),n.Xb(21,"mat-label"),n.Jc(22,"Nombre de Gueris F\xe9minin"),n.Wb(),n.Sb(23,"input",8),n.Wb(),n.Wb(),n.Xb(24,"div",4),n.Xb(25,"mat-form-field"),n.Xb(26,"mat-label"),n.Jc(27,"Nombre de D\xe9c\xe8s"),n.Wb(),n.Sb(28,"input",9),n.Wb(),n.Wb(),n.Xb(29,"div",4),n.Xb(30,"mat-form-field"),n.Xb(31,"mat-label"),n.Jc(32,"Nombre de D\xe9c\xe8s F\xe9minin"),n.Wb(),n.Sb(33,"input",10),n.Wb(),n.Wb(),n.Xb(34,"div",11),n.Xb(35,"mat-form-field"),n.Xb(36,"mat-label"),n.Jc(37,"Etat de Financement des Structures Sanitaire"),n.Wb(),n.Xb(38,"mat-select",12),n.Hc(39,K,2,2,"mat-option",13),n.Wb(),n.Wb(),n.Wb(),n.Xb(40,"div",11),n.Xb(41,"mat-form-field"),n.Xb(42,"mat-label"),n.Jc(43,"Accesbilit\xe9 des Structures Santaire \xe0 la Population"),n.Wb(),n.Xb(44,"mat-select",14),n.Hc(45,Y,2,2,"mat-option",13),n.Wb(),n.Wb(),n.Wb(),n.Xb(46,"div",11),n.Xb(47,"mat-form-field"),n.Xb(48,"mat-label"),n.Jc(49,"Province"),n.Wb(),n.Xb(50,"select",15),n.fc("change",(function(e){return t.changeCountry(e.target.value)})),n.Hc(51,Z,2,2,"option",13),n.Wb(),n.Wb(),n.Wb(),n.Xb(52,"div",11),n.Xb(53,"mat-form-field"),n.Xb(54,"mat-label"),n.Jc(55,"Ville"),n.Wb(),n.Xb(56,"select",16),n.Xb(57,"option",17),n.Jc(58,"== Aucun selectionner =="),n.Wb(),n.Hc(59,Q,2,2,"option",13),n.Wb(),n.Wb(),n.Wb(),n.Xb(60,"div",11),n.Xb(61,"mat-form-field"),n.Xb(62,"mat-label"),n.Jc(63,"Cheferie / Secteur"),n.Wb(),n.Xb(64,"select",18),n.Xb(65,"option",17),n.Jc(66,"== Aucun selectionner =="),n.Wb(),n.Hc(67,ee,2,2,"option",13),n.Wb(),n.Wb(),n.Wb(),n.Xb(68,"div",11),n.Xb(69,"mat-label"),n.Jc(70,"Etat G\xe9n\xe9ral COVID-19"),n.Wb(),n.Sb(71,"ckeditor",19),n.Wb(),n.Xb(72,"div",11),n.Xb(73,"button",20),n.fc("click",(function(){return t.onSubmit()})),n.Jc(74," Modifier "),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&e&&(n.Db(1),n.pc("formGroup",t.addCovidForm),n.Db(38),n.pc("ngForOf",t.qualites),n.Db(6),n.pc("ngForOf",t.booleens),n.Db(6),n.pc("ngForOf",t.countryList),n.Db(8),n.pc("ngForOf",t.ville),n.Db(8),n.pc("ngForOf",t.secteurCheferie),n.Db(6),n.pc("disabled",!t.addCovidForm.valid))},directives:[m.t,m.k,m.e,p.b,v.b,v.e,m.n,f.b,m.b,m.j,m.d,h.a,o.m,m.q,m.m,m.s,C.a,g.b,W.n],styles:[".btn[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),e}(),ie=i("vjX4"),oe=i("uad8");function re(e,t){1&e&&(n.Xb(0,"div",3),n.Xb(1,"div",4),n.Sb(2,"mat-spinner"),n.Wb(),n.Wb())}function ne(e,t){if(1&e&&(n.Xb(0,"div",5),n.Xb(1,"div",6),n.Xb(2,"h3",7),n.Jc(3),n.kc(4,"date"),n.Wb(),n.Sb(5,"br"),n.Xb(6,"ul",8),n.Xb(7,"li",9),n.Xb(8,"b"),n.Jc(9,"Nombre de Contamin\xe9s:"),n.Wb(),n.Jc(10),n.Wb(),n.Xb(11,"li",9),n.Xb(12,"b"),n.Jc(13,"Nombre de Contamin\xe9s par Femme:"),n.Wb(),n.Jc(14),n.Wb(),n.Xb(15,"li",9),n.Xb(16,"b"),n.Jc(17,"Nombre de Contamin\xe9s par Homme:"),n.Wb(),n.Jc(18),n.Wb(),n.Sb(19,"br"),n.Xb(20,"li",9),n.Xb(21,"b"),n.Jc(22,"Nombre de Gu\xe9ris:"),n.Wb(),n.Jc(23),n.Wb(),n.Xb(24,"li",9),n.Xb(25,"b"),n.Jc(26,"Nombre de Gu\xe9ris par Femme:"),n.Wb(),n.Jc(27),n.Wb(),n.Xb(28,"li",9),n.Xb(29,"b"),n.Jc(30,"Nombre de Gu\xe9ris par Homme:"),n.Wb(),n.Jc(31),n.Wb(),n.Sb(32,"br"),n.Xb(33,"li",9),n.Xb(34,"b"),n.Jc(35,"Nombre de D\xe9c\xe8s:"),n.Wb(),n.Jc(36),n.Wb(),n.Xb(37,"li",9),n.Xb(38,"b"),n.Jc(39,"Nombre de D\xe9c\xe8s par Femme:"),n.Wb(),n.Jc(40),n.Wb(),n.Xb(41,"li",9),n.Xb(42,"b"),n.Jc(43,"Nombre de D\xe9c\xe8s par Homme:"),n.Wb(),n.Jc(44),n.Wb(),n.Wb(),n.Xb(45,"ul",8),n.Xb(46,"li",9),n.Xb(47,"b"),n.Jc(48,"Etat des Financements des Structures Sanitaire:"),n.Wb(),n.Jc(49),n.Wb(),n.Xb(50,"li",9),n.Xb(51,"b"),n.Jc(52,"Accesbilit\xe9 des Structures Santaire \xe0 la Population:"),n.Wb(),n.Jc(53),n.Wb(),n.Wb(),n.Xb(54,"ul",8),n.Xb(55,"li",9),n.Xb(56,"b"),n.Jc(57,"Province:"),n.Wb(),n.Jc(58),n.Wb(),n.Xb(59,"li",9),n.Xb(60,"b"),n.Jc(61,"Ville:"),n.Wb(),n.Jc(62),n.Wb(),n.Xb(63,"li",9),n.Xb(64,"b"),n.Jc(65,"Cheferie / Secteur:"),n.Wb(),n.Jc(66),n.Wb(),n.Wb(),n.Sb(67,"br"),n.Xb(68,"div"),n.Xb(69,"h4"),n.Xb(70,"b"),n.Jc(71,"Rapport detaill\xe9"),n.Wb(),n.Wb(),n.Xb(72,"p",10),n.Jc(73),n.Wb(),n.Wb(),n.Wb(),n.Xb(74,"div",6),n.Xb(75,"h2"),n.Jc(76,"Information de l'\xe9diteur"),n.Wb(),n.Xb(77,"ul",8),n.Xb(78,"li",9),n.Xb(79,"b"),n.Jc(80,"Nom:"),n.Wb(),n.Jc(81),n.Wb(),n.Xb(82,"li",9),n.Xb(83,"b"),n.Jc(84,"T\xe9l\xe9phone:"),n.Wb(),n.Jc(85),n.Wb(),n.Xb(86,"li",9),n.Xb(87,"b"),n.Jc(88,"Email:"),n.Wb(),n.Jc(89),n.Wb(),n.Xb(90,"li",9),n.Xb(91,"b"),n.Jc(92,"Adresse physique:"),n.Wb(),n.Jc(93),n.Wb(),n.Xb(94,"li",9),n.Xb(95,"b"),n.Jc(96,"Niveau d'acr\xe9ditation:"),n.Wb(),n.Jc(97),n.Wb(),n.Xb(98,"li",9),n.Xb(99,"b"),n.Jc(100,"Etat Civile:"),n.Wb(),n.Jc(101),n.Wb(),n.Xb(102,"li",9),n.Xb(103,"b"),n.Jc(104,"Identifiant Unique:"),n.Wb(),n.Jc(105),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&e){var i=n.jc();n.Db(3),n.Lc("Rapport du ",n.mc(4,23,i.covidView.Created,"dd/MM/yyy \xe0 H:mm:ss"),""),n.Db(7),n.Lc(" ",i.covidView.NbreTotalContamine,""),n.Db(4),n.Lc(" ",i.covidView.NbreContaminerFemme,""),n.Db(4),n.Lc(" ",i.covidView.NbreTotalContamine-i.covidView.NbreContaminerFemme,""),n.Db(5),n.Lc(" ",i.covidView.NbreTotalGueris,""),n.Db(4),n.Lc(" ",i.covidView.NbreGuerisFemme,""),n.Db(4),n.Lc(" ",i.covidView.NbreTotalGueris-i.covidView.NbreGuerisFemme,""),n.Db(5),n.Lc(" ",i.covidView.NbreTotalDeces,""),n.Db(4),n.Lc(" ",i.covidView.NbreDecesFemme,""),n.Db(4),n.Lc(" ",i.covidView.NbreTotalDeces-i.covidView.NbreDecesFemme,""),n.Db(5),n.Lc(" ",i.covidView.EtatFinancementStructureSanitaire,""),n.Db(4),n.Lc(" ",i.covidView.AccesbiliteStructureSantairePopulation,""),n.Db(5),n.Lc(" ",i.covidView.Province,""),n.Db(4),n.Lc(" ",i.covidView.CommunaleUrbain,""),n.Db(4),n.Lc(" ",i.covidView.CheferieSecteur,""),n.Db(7),n.Kc(i.covidView.RapportGeneraleCovid),n.Db(8),n.Lc(" ",i.agentInfo.name,""),n.Db(4),n.Lc(" ",i.agentInfo.phoneNumber,""),n.Db(4),n.Lc(" ",i.agentInfo.email,""),n.Db(4),n.Lc(" ",i.agentInfo.useraddress,""),n.Db(4),n.Lc(" ",i.agentInfo.role,""),n.Db(4),n.Lc(" ",i.agentInfo.etatCivile,""),n.Db(4),n.Lc(" ",i.agentInfo.uid,"")}}var ae=function(){function e(e,t,i){this.route=e,this.covidService=t,this.security=i,this.covidView={},this.loading=!1}return e.prototype.ngOnInit=function(){this.setRole();var e=this.route.snapshot.paramMap.get("id");this.getDetails(e)},e.prototype.setRole=function(){var e=this;this.security.getRole().subscribe((function(t){e.currentRole=t}))},e.prototype.getcovidViewby=function(e){var t=this;this.loading=!0,this.covidService.getCovidByCovidId(e).subscribe((function(e){t.covidData=e,t.covidService.getProfileByAgentId(e.data.agentId).subscribe((function(e){t.agentInfo=e.data,t.loading=!1}),(function(e){t.loading=!1}))}),(function(e){t.loading=!1}))},e.prototype.getDetails=function(e){var t=this;this.loading=!0,this.covidService.getOneProduct(e).subscribe((function(e){t.covidView=e,t.covidService.getProfileByAgentId(e.agentId).subscribe((function(e){t.agentInfo=e.data,t.loading=!1}),(function(e){t.loading=!1})),t.loading=!1}))},e.\u0275fac=function(t){return new(t||e)(n.Rb(r.a),n.Rb(u.a),n.Rb(ie.a))},e.\u0275cmp=n.Lb({type:e,selectors:[["app-covid-view"]],decls:3,vars:2,consts:[["class","container",4,"ngIf"],[1,"container","m"],["fxLayout","column","fxLayoutAlign","flex-start flex-start",4,"ngIf"],[1,"container"],[1,"d-flex","justify-content-center"],["fxLayout","column","fxLayoutAlign","flex-start flex-start"],[1,"card","shadow","p-3","mb-5","bg-white","rounded"],[1,"text-break"],[1,"list-group","list-group-flush"],[1,"list-group-item","text-break"],[1,"text-justify"]],template:function(e,t){1&e&&(n.Hc(0,re,3,0,"div",0),n.Xb(1,"div",1),n.Hc(2,ne,106,26,"div",2),n.Wb()),2&e&&(n.pc("ngIf",t.loading),n.Db(2),n.pc("ngIf",!t.loading))},directives:[o.n,oe.b,p.c,p.b],pipes:[o.e],styles:[""]}),e}(),ce=i("oZHA"),be=[{path:"",component:a,children:[{path:"covid-add",component:y,canActivate:[ce.a]},{path:"covid-list",component:z},{path:"covid-edit/:id",component:te,canActivate:[ce.a]},{path:"covid-view/:id",component:ae},{path:"",redirectTo:"covid-list",pathMatch:"full"}]}],me=function(){function e(){}return e.\u0275mod=n.Pb({type:e}),e.\u0275inj=n.Ob({factory:function(t){return new(t||e)},imports:[[r.i.forChild(be)],r.i]}),e}(),de=i("PCNd"),le=function(){function e(){}return e.\u0275mod=n.Pb({type:e}),e.\u0275inj=n.Ob({factory:function(t){return new(t||e)},imports:[[o.c,me,de.a]]}),e}()}}]);