(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{Tpin:function(e,t,i){"use strict";i.r(t),i.d(t,"SecuritaireModule",(function(){return se}));var r=i("Valr"),n=i("DUip"),o=i("mrSG"),a=i("ETwC"),c=i("Byqp"),l=i("nbAZ"),u=i("TYT/"),b=i("pnzp"),d=i("p+mS"),s=i("GsDI"),m=i("uLXW");function p(e,t){1&e&&(u.Xb(0,"th",17),u.Jc(1," Date et Heure "),u.Wb())}var f=function(e){return["/layouts/securitaire/secure-view",e]};function v(e,t){if(1&e&&(u.Xb(0,"mat-cell"),u.Xb(1,"a",18),u.Jc(2),u.kc(3,"date"),u.Wb(),u.Wb()),2&e){var i=t.$implicit;u.Db(1),u.pc("routerLink",u.tc(5,f,i.id)),u.Db(1),u.Kc(u.mc(3,2,i.Created.toDate(),"dd/MM/yyyy HH:mm:ss"))}}function g(e,t){1&e&&(u.Xb(0,"th",17),u.Jc(1," Identification de Zone de Tension "),u.Wb())}function h(e,t){if(1&e&&(u.Xb(0,"td",19),u.Jc(1),u.Wb()),2&e){var i=t.$implicit;u.Db(1),u.Lc(" ",i.IdentificationZoneTension,"")}}function S(e,t){1&e&&(u.Xb(0,"th",17),u.Jc(1," Viol et Violence Sexuel "),u.Wb())}function W(e,t){if(1&e&&(u.Xb(0,"td",19),u.Jc(1),u.Wb()),2&e){var i=t.$implicit;u.Db(1),u.Lc(" ",i.ViolViolenceSexuel,"")}}function X(e,t){1&e&&(u.Xb(0,"th",17),u.Jc(1," Initiaves de Paix Impliqu\xe9s "),u.Wb())}function C(e,t){if(1&e&&(u.Xb(0,"td",19),u.Jc(1),u.Wb()),2&e){var i=t.$implicit;u.Db(1),u.Lc(" ",i.InitiavesPaixImplique,"")}}function y(e,t){1&e&&(u.Xb(0,"th",17),u.Jc(1," Modifiez "),u.Wb())}var x=function(e){return["/layouts/securitaire/secure-edit",e]};function I(e,t){if(1&e&&(u.Xb(0,"td",19),u.Xb(1,"a",18),u.Xb(2,"mat-icon"),u.Jc(3,"create"),u.Wb(),u.Wb(),u.Wb()),2&e){var i=t.$implicit;u.Db(1),u.pc("routerLink",u.tc(1,x,i.id))}}function D(e,t){1&e&&(u.Xb(0,"th",17),u.Jc(1," Supprimez "),u.Wb())}function R(e,t){if(1&e){var i=u.Yb();u.Xb(0,"td",19),u.Xb(1,"a",20),u.fc("click",(function(){u.Ac(i);var e=t.$implicit;return u.jc().removeProduct(e.id)})),u.Xb(2,"mat-icon"),u.Jc(3,"delete_sweep"),u.Wb(),u.Wb(),u.Wb()}}function J(e,t){1&e&&u.Sb(0,"tr",21)}function A(e,t){1&e&&u.Sb(0,"tr",22)}var w=function(){return[10,20,30]},V=function(){function e(e,t){this.secureService=e,this.router=t,this.displayedColumns=["Created","IdentificationZoneTension","ViolViolenceSexuel","InitiavesPaixImplique","edit","remove"]}return e.prototype.ngOnInit=function(){var e=this;this.secureService.getSecureByAgent().subscribe((function(t){var i=t.map((function(e){return Object(o.a)({id:e.payload.doc.id},e.payload.doc.data())}));e.dataSource=new a.k(i),e.dataSource.sort=e.sort,e.dataSource.paginator=e.paginator}))},e.prototype.addProductClick=function(){this.router.navigate(["/layouts/securitaire/secure-add"])},e.prototype.removeProduct=function(e){this.secureService.removeSecureByID(e)},e.\u0275fac=function(t){return new(t||e)(u.Rb(b.a),u.Rb(n.e))},e.\u0275cmp=u.Lb({type:e,selectors:[["app-secure-list"]],viewQuery:function(e,t){var i;1&e&&(u.Fc(c.a,!0),u.Fc(l.a,!0)),2&e&&(u.wc(i=u.gc())&&(t.sort=i.first),u.wc(i=u.gc())&&(t.paginator=i.first))},decls:29,vars:5,consts:[[1,"container","eco-list"],["mat-raised-button","","color","primary",1,"primary-background","w-180","mat-elevation-z8",3,"click"],["fxLayout","column",1,"m-10","mat-elevation-z8"],[1,"example-container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","Created","sticky",""],["mat-header-cell","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IdentificationZoneTension"],["mat-cell","",4,"matCellDef"],["matColumnDef","ViolViolenceSexuel"],["matColumnDef","InitiavesPaixImplique"],["matColumnDef","edit"],["matColumnDef","remove"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell",""],[3,"routerLink"],["mat-cell",""],[3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(u.Xb(0,"section",0),u.Xb(1,"button",1),u.fc("click",(function(){return t.addProductClick()})),u.Xb(2,"mat-icon"),u.Jc(3,"add"),u.Wb(),u.Wb(),u.Sb(4,"br"),u.Xb(5,"div",2),u.Xb(6,"div",3),u.Xb(7,"table",4),u.Vb(8,5),u.Hc(9,p,2,0,"th",6),u.Hc(10,v,4,7,"mat-cell",7),u.Ub(),u.Vb(11,8),u.Hc(12,g,2,0,"th",6),u.Hc(13,h,2,1,"td",9),u.Ub(),u.Vb(14,10),u.Hc(15,S,2,0,"th",6),u.Hc(16,W,2,1,"td",9),u.Ub(),u.Vb(17,11),u.Hc(18,X,2,0,"th",6),u.Hc(19,C,2,1,"td",9),u.Ub(),u.Vb(20,12),u.Hc(21,y,2,0,"th",6),u.Hc(22,I,4,3,"td",9),u.Ub(),u.Vb(23,13),u.Hc(24,D,2,0,"th",6),u.Hc(25,R,4,0,"td",9),u.Ub(),u.Hc(26,J,1,0,"tr",14),u.Hc(27,A,1,0,"tr",15),u.Wb(),u.Sb(28,"mat-paginator",16),u.Wb(),u.Wb(),u.Wb()),2&e&&(u.Db(7),u.pc("dataSource",t.dataSource),u.Db(19),u.pc("matHeaderRowDef",t.displayedColumns),u.Db(1),u.pc("matRowDefColumns",t.displayedColumns),u.Db(1),u.pc("pageSizeOptions",u.sc(4,w)))},directives:[d.b,s.a,m.c,a.j,c.a,a.c,a.e,a.b,a.g,a.i,l.a,a.d,a.a,n.h,a.f,a.h],pipes:[r.e],styles:[".eco-list[_ngcontent-%COMP%]{display:flex;flex-direction:column}.eco-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:flex-end;margin-right:10px}.example-container[_ngcontent-%COMP%]{overflow:auto}a[_ngcontent-%COMP%]{text-decoration:none}table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;border-right:1px solid #e0e0e0;padding-left:10px;padding-right:10px;padding-top:5px}td.mat-column-star[_ngcontent-%COMP%]{width:20px}td.mat-column-position[_ngcontent-%COMP%], th.mat-column-position[_ngcontent-%COMP%]{padding-left:5px}.mat-table-sticky[_ngcontent-%COMP%]:first-child{border-right:1px solid #e0e0e0}"]}),e}(),P=i("QJY3"),L=i("2WpN"),M=i("l8De"),F=i("gZta"),H=i("tOvj"),O=i("5msO"),q=i("eHTH"),E=i("cSbt"),N=i("mWkv"),U=i("TmZT");function k(e,t){if(1&e&&(u.Xb(0,"mat-radio-button",24),u.Jc(1),u.Wb()),2&e){var i=t.$implicit;u.pc("value",i),u.Db(1),u.Lc(" ",i," ")}}function T(e,t){if(1&e&&(u.Xb(0,"mat-radio-button",24),u.Jc(1),u.Wb()),2&e){var i=t.$implicit;u.pc("value",i),u.Db(1),u.Lc(" ",i," ")}}function G(e,t){if(1&e&&(u.Xb(0,"mat-radio-button",24),u.Jc(1),u.Wb()),2&e){var i=t.$implicit;u.pc("value",i),u.Db(1),u.Lc(" ",i," ")}}function _(e,t){if(1&e&&(u.Xb(0,"mat-radio-button",24),u.Jc(1),u.Wb()),2&e){var i=t.$implicit;u.pc("value",i),u.Db(1),u.Lc(" ",i," ")}}function Z(e,t){if(1&e&&(u.Xb(0,"option",25),u.Jc(1),u.Wb()),2&e){var i=t.$implicit;u.qc("value",i.name),u.Db(1),u.Kc(i.name)}}function $(e,t){if(1&e&&(u.Xb(0,"option",25),u.Jc(1),u.Wb()),2&e){var i=t.$implicit;u.qc("value",i),u.Db(1),u.Kc(i)}}function B(e,t){if(1&e&&(u.Xb(0,"option",25),u.Jc(1),u.Wb()),2&e){var i=t.$implicit;u.qc("value",i),u.Db(1),u.Kc(i)}}var j=function(){function e(e,t,i,r,n,o){this.storage=e,this.db=t,this.fb=i,this.router=r,this.secureService=n,this.snackbar=o,this.qualite=["Tr\xe8s Bonne","Bonne","Moyen","Mauvaise","Tr\xe8s Mauvaise"],this.booleen=["OUI","NON"],this.SecureInfo={id:"",IdentificationZoneTension:"",ElementViolationDroitHumain:"",ElementCriminaliteUrbainRurale:"",ViolViolenceSexuel:"",NbreGroupeArmeActifRegion:0,InitiavesPaixImplique:0,RelationActeurSecuritSocieteCivile:"",RelationActeurSecuriteMedia:"",RapportGeneraleSecure:"",Province:"",CommunaleUrbain:"",CheferieSecteur:"",Created:null,agentId:""},this.isPreview=!1,this.isLoading=!1,this.countryList=M.a}return e.prototype.ngOnInit=function(){this.getUserId(),this.makingaddSecureForm()},e.prototype.makingaddSecureForm=function(){this.addSecureForm=this.fb.group({IdentificationZoneTension:["",P.r.required],ElementViolationDroitHumain:["",P.r.required],ElementCriminaliteUrbainRurale:["",P.r.required],ViolViolenceSexuel:["",P.r.required],NbreGroupeArmeActifRegion:["",P.r.required],InitiavesPaixImplique:["",P.r.required],RelationActeurSecuritSocieteCivile:["",P.r.required],RelationActeurSecuriteMedia:["",P.r.required],RapportGeneraleSecure:["",P.r.required],managerId:[""],Province:["",P.r.required],CommunaleUrbain:["",P.r.required],CheferieSecteur:["",P.r.required]})},e.prototype.getUserId=function(){var e=this;this.secureService.getUserId().subscribe((function(t){e.getManagerID=t}))},e.prototype.onSubmit=function(){this.addSecureForm.valid?(this.isLoading=!0,this.SecureInfo={IdentificationZoneTension:this.addSecureForm.value.IdentificationZoneTension,ElementViolationDroitHumain:this.addSecureForm.value.ElementViolationDroitHumain,ElementCriminaliteUrbainRurale:this.addSecureForm.value.ElementCriminaliteUrbainRurale,ViolViolenceSexuel:this.addSecureForm.value.ViolViolenceSexuel,NbreGroupeArmeActifRegion:this.addSecureForm.value.NbreGroupeArmeActifRegion,InitiavesPaixImplique:this.addSecureForm.value.InitiavesPaixImplique,RelationActeurSecuritSocieteCivile:this.addSecureForm.value.RelationActeurSecuritSocieteCivile,RelationActeurSecuriteMedia:this.addSecureForm.value.RelationActeurSecuriteMedia,RapportGeneraleSecure:this.addSecureForm.value.RapportGeneraleSecure,Province:this.addSecureForm.value.Province,CommunaleUrbain:this.addSecureForm.value.CommunaleUrbain,CheferieSecteur:this.addSecureForm.value.CheferieSecteur,Created:new Date,agentId:this.getManagerID},this.secureService.createSecure(this.SecureInfo),this.addSecureForm.reset(),this.showSnackbar(),this.router.navigate(["/layouts/securitaire/secure-list"])):this.openErrorBar()},e.prototype.showSnackbar=function(){this.snackbar.open("Rapports Envoy\xe9!","",{duration:6e3})},e.prototype.openErrorBar=function(){this.snackbar.open("Erreur d'enregistrement!","",{duration:6e3})},e.prototype.changeCountry=function(e){this.ville=this.countryList.find((function(t){return t.name==e})).ville,this.secteurCheferie=this.countryList.find((function(t){return t.name==e})).secteurCheferie},e.prototype.toggleHover=function(e){this.isHovering=e},e.prototype.startUpload=function(e){var t=this;this.isPreview=!0;var i=e.item(0);if("image"===i.type.split("/")[0]){var r="Secure/"+(new Date).getTime()+"_"+i.name;this.storage.ref(r),this.task=this.storage.upload(r,i,{customMetadata:{app:"My AngularFire-powered PWA!"}}),this.percentage=this.task.percentageChanges(),this.snapshot=this.task.snapshotChanges().pipe(Object(L.a)((function(){t.downloadURL=t.storage.ref(r).getDownloadURL(),console.log(t.downloadURL),t.downloadURL.subscribe((function(e){e&&(t.imgDownloadUrl=e)}))})))}else console.error("unsupported file type :( ")},e.prototype.isActive=function(e){return"running"===e.state&&e.bytesTransferred<e.totalBytes},e.\u0275fac=function(t){return new(t||e)(u.Rb(F.a),u.Rb(H.a),u.Rb(P.c),u.Rb(n.e),u.Rb(b.a),u.Rb(O.a))},e.\u0275cmp=u.Lb({type:e,selectors:[["app-secure-add"]],decls:72,vars:9,consts:[[1,"container"],[3,"formGroup"],["fxLayoutAlign","center center",1,"card","shadow","p-3","mb-5","bg-white","rounded"],[1,"form-row"],[1,"form-group","col-md-6"],["appearance","outline"],["type","text","matInput","","placeholder","Identification des Zones de Tension","formControlName","IdentificationZoneTension"],["type","text","matInput","","placeholder","Elements de Violation de Droits Humains","formControlName","ElementViolationDroitHumain"],["type","number","matInput","","placeholder","Nbre de Groupes Arm\xe9s Actif dans la Region","formControlName","NbreGroupeArmeActifRegion"],["type","text","matInput","","placeholder","Elements de Criminalit\xe9 Urbain et Rural","formControlName","ElementCriminaliteUrbainRurale"],["id","example-radio-group-label"],["aria-labelledby","example-radio-group-label","formControlName","ViolViolenceSexuel",1,"example-radio-group"],["class","example-radio-button",3,"value",4,"ngFor","ngForOf"],["aria-labelledby","example-radio-group-label","formControlName","InitiavesPaixImplique",1,"example-radio-group"],["aria-labelledby","example-radio-group-label","formControlName","RelationActeurSecuritSocieteCivile",1,"example-radio-group"],["aria-labelledby","example-radio-group-label","formControlName","RelationActeurSecuriteMedia",1,"example-radio-group"],[1,"form-group","col-md-12"],["matNativeControl","","formControlName","Province",3,"change"],[3,"value",4,"ngFor","ngForOf"],["matNativeControl","","formControlName","CommunaleUrbain"],["value","volvo"],["matNativeControl","","formControlName","CheferieSecteur"],["data","<p>Etat G\xe9n\xe9ral S\xe9curitaire.</p>","formControlName","RapportGeneraleSecure"],["type","submit","mat-raised-button","","color","primary",1,"btn",3,"disabled","click"],[1,"example-radio-button",3,"value"],[3,"value"]],template:function(e,t){1&e&&(u.Xb(0,"div",0),u.Xb(1,"form",1),u.Xb(2,"div",2),u.Xb(3,"div",3),u.Xb(4,"div",4),u.Xb(5,"mat-form-field",5),u.Xb(6,"mat-label"),u.Jc(7,"Identification des Zones de Tension"),u.Wb(),u.Sb(8,"input",6),u.Wb(),u.Wb(),u.Xb(9,"div",4),u.Xb(10,"mat-form-field",5),u.Xb(11,"mat-label"),u.Jc(12,"Elements de Violation de Droits Humains"),u.Wb(),u.Sb(13,"input",7),u.Wb(),u.Wb(),u.Xb(14,"div",4),u.Xb(15,"mat-form-field",5),u.Xb(16,"mat-label"),u.Jc(17,"Nbre de Groupes Arm\xe9s Actif dans la Region"),u.Wb(),u.Sb(18,"input",8),u.Wb(),u.Wb(),u.Xb(19,"div",4),u.Xb(20,"mat-form-field",5),u.Xb(21,"mat-label"),u.Jc(22,"Elements de Criminalit\xe9 Urbain et Rural"),u.Wb(),u.Sb(23,"input",9),u.Wb(),u.Wb(),u.Xb(24,"div",4),u.Xb(25,"label",10),u.Jc(26,"Existe-t-il des cas de Violence Sexuel?"),u.Wb(),u.Xb(27,"mat-radio-group",11),u.Hc(28,k,2,2,"mat-radio-button",12),u.Wb(),u.Wb(),u.Xb(29,"div",4),u.Xb(30,"label",10),u.Jc(31,"Existe-t-il une Initiave de Paix?"),u.Wb(),u.Xb(32,"mat-radio-group",13),u.Hc(33,T,2,2,"mat-radio-button",12),u.Wb(),u.Wb(),u.Xb(34,"div",4),u.Xb(35,"label",10),u.Jc(36,"Relation entre Acteurs de S\xe9curit\xe9 et la Societ\xe9 Civile"),u.Wb(),u.Xb(37,"mat-radio-group",14),u.Hc(38,G,2,2,"mat-radio-button",12),u.Wb(),u.Wb(),u.Xb(39,"div",4),u.Xb(40,"label",10),u.Jc(41,"Relation entre Acteur de S\xe9curit\xe9 et Media"),u.Wb(),u.Xb(42,"mat-radio-group",15),u.Hc(43,_,2,2,"mat-radio-button",12),u.Wb(),u.Wb(),u.Xb(44,"div",16),u.Xb(45,"mat-form-field",5),u.Xb(46,"mat-label"),u.Jc(47,"Province"),u.Wb(),u.Xb(48,"select",17),u.fc("change",(function(e){return t.changeCountry(e.target.value)})),u.Hc(49,Z,2,2,"option",18),u.Wb(),u.Wb(),u.Xb(50,"mat-form-field",5),u.Xb(51,"mat-label"),u.Jc(52,"Ville"),u.Wb(),u.Xb(53,"select",19),u.Xb(54,"option",20),u.Jc(55,"== Aucun selectionner =="),u.Wb(),u.Hc(56,$,2,2,"option",18),u.Wb(),u.Wb(),u.Xb(57,"mat-form-field",5),u.Xb(58,"mat-label"),u.Jc(59,"Chefferie / Secteur"),u.Wb(),u.Xb(60,"select",21),u.Xb(61,"option",20),u.Jc(62,"== Aucun selectionner =="),u.Wb(),u.Hc(63,B,2,2,"option",18),u.Wb(),u.Wb(),u.Xb(64,"div",16),u.Xb(65,"mat-label"),u.Jc(66,"Etat G\xe9n\xe9ral S\xe9curitaire"),u.Wb(),u.Sb(67,"ckeditor",22),u.Wb(),u.Xb(68,"div"),u.Xb(69,"div",16),u.Xb(70,"button",23),u.fc("click",(function(){return t.onSubmit()})),u.Jc(71," Enregistrer "),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb()),2&e&&(u.Db(1),u.pc("formGroup",t.addSecureForm),u.Db(27),u.pc("ngForOf",t.booleen),u.Db(5),u.pc("ngForOf",t.booleen),u.Db(5),u.pc("ngForOf",t.qualite),u.Db(5),u.pc("ngForOf",t.qualite),u.Db(6),u.pc("ngForOf",t.countryList),u.Db(7),u.pc("ngForOf",t.ville),u.Db(7),u.pc("ngForOf",t.secteurCheferie),u.Db(7),u.pc("disabled",!t.addSecureForm.valid))},directives:[P.t,P.k,P.e,m.b,q.b,q.e,E.b,P.b,P.j,P.d,P.n,N.b,r.m,P.q,P.m,P.s,U.a,d.b,N.a],styles:[".btn[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%]{width:100%}.example-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.example-radio-button[_ngcontent-%COMP%]{margin:5px}"]}),e}();function z(e,t){if(1&e&&(u.Xb(0,"mat-radio-button",24),u.Jc(1),u.Wb()),2&e){var i=t.$implicit;u.pc("value",i),u.Db(1),u.Lc(" ",i," ")}}function K(e,t){if(1&e&&(u.Xb(0,"mat-radio-button",24),u.Jc(1),u.Wb()),2&e){var i=t.$implicit;u.pc("value",i),u.Db(1),u.Lc(" ",i," ")}}function Y(e,t){if(1&e&&(u.Xb(0,"mat-radio-button",24),u.Jc(1),u.Wb()),2&e){var i=t.$implicit;u.pc("value",i),u.Db(1),u.Lc(" ",i," ")}}function Q(e,t){if(1&e&&(u.Xb(0,"mat-radio-button",24),u.Jc(1),u.Wb()),2&e){var i=t.$implicit;u.pc("value",i),u.Db(1),u.Lc(" ",i," ")}}function ee(e,t){if(1&e&&(u.Xb(0,"option",25),u.Jc(1),u.Wb()),2&e){var i=t.$implicit;u.qc("value",i.name),u.Db(1),u.Kc(i.name)}}function te(e,t){if(1&e&&(u.Xb(0,"option",25),u.Jc(1),u.Wb()),2&e){var i=t.$implicit;u.qc("value",i),u.Db(1),u.Kc(i)}}function ie(e,t){if(1&e&&(u.Xb(0,"option",25),u.Jc(1),u.Wb()),2&e){var i=t.$implicit;u.qc("value",i),u.Db(1),u.Kc(i)}}var re=function(){function e(e,t,i,r,n,o){this.storage=e,this.fb=t,this.router=i,this.secureService=r,this.snackbar=n,this.route=o,this.qualite=["Tr\xe8s Bonne","Bonne","Moyen","Mauvaise","Tr\xe8s Mauvaise"],this.booleen=["OUI","NON"],this.SecureInfo={id:"",IdentificationZoneTension:"",ElementViolationDroitHumain:"",ElementCriminaliteUrbainRurale:"",ViolViolenceSexuel:"",NbreGroupeArmeActifRegion:0,InitiavesPaixImplique:0,RelationActeurSecuritSocieteCivile:"",RelationActeurSecuriteMedia:"",RapportGeneraleSecure:"",Province:"",CommunaleUrbain:"",CheferieSecteur:"",Created:null,agentId:""},this.isPreview=!1,this.isLoading=!1,this.countryList=M.a}return e.prototype.ngOnInit=function(){this.makingaddSecureForm();var e=this.route.snapshot.paramMap.get("id");e&&(this.getProductby(e),this.secureid=e)},e.prototype.makingaddSecureForm=function(){this.addSecureForm=this.fb.group({IdentificationZoneTension:["",P.r.required],ElementViolationDroitHumain:["",P.r.required],ElementCriminaliteUrbainRurale:["",P.r.required],ViolViolenceSexuel:["",P.r.required],NbreGroupeArmeActifRegion:["",P.r.required],InitiavesPaixImplique:["",P.r.required],RelationActeurSecuritSocieteCivile:["",P.r.required],RelationActeurSecuriteMedia:["",P.r.required],RapportGeneraleSecure:["",P.r.required],Province:["",P.r.required],CommunaleUrbain:["",P.r.required],CheferieSecteur:["",P.r.required]})},e.prototype.onSubmit=function(){this.addSecureForm.valid?(this.isLoading=!0,this.SecureInfo={IdentificationZoneTension:this.addSecureForm.value.IdentificationZoneTension,ElementViolationDroitHumain:this.addSecureForm.value.ElementViolationDroitHumain,ElementCriminaliteUrbainRurale:this.addSecureForm.value.ElementCriminaliteUrbainRurale,ViolViolenceSexuel:this.addSecureForm.value.ViolViolenceSexuel,NbreGroupeArmeActifRegion:this.addSecureForm.value.NbreGroupeArmeActifRegion,InitiavesPaixImplique:this.addSecureForm.value.InitiavesPaixImplique,RelationActeurSecuritSocieteCivile:this.addSecureForm.value.RelationActeurSecuritSocieteCivile,RelationActeurSecuriteMedia:this.addSecureForm.value.RelationActeurSecuriteMedia,RapportGeneraleSecure:this.addSecureForm.value.RapportGeneraleSecure,Province:this.addSecureForm.value.Province,CommunaleUrbain:this.addSecureForm.value.CommunaleUrbain,CheferieSecteur:this.addSecureForm.value.CheferieSecteur,Created:new Date,agentId:this.managerID},this.secureService.updateSecure(this.SecureInfo,this.secureid),this.addSecureForm.reset(),this.showSnackbar(),this.router.navigate(["/layouts/securitaire/secure-list"])):this.openErrorBar()},e.prototype.showSnackbar=function(){this.snackbar.open("Rapports Modifi\xe9!","",{duration:6e3})},e.prototype.openErrorBar=function(){this.snackbar.open("Erreur de modification!","",{duration:6e3})},e.prototype.getSupplierID=function(){var e=this;this.secureService.getUserId().subscribe((function(t){e.managerID=t}))},e.prototype.getProductby=function(e){var t=this;this.secureService.getSecureBySecureId(e).subscribe((function(e){t.patchData(e.data),t.SecureInfo=e.data}))},e.prototype.patchData=function(e){this.addSecureForm.patchValue({IdentificationZoneTension:e.IdentificationZoneTension,ElementViolationDroitHumain:e.ElementViolationDroitHumain,ElementCriminaliteUrbainRurale:e.ElementCriminaliteUrbainRurale,ViolViolenceSexuel:e.ViolViolenceSexuel,NbreGroupeArmeActifRegion:e.NbreGroupeArmeActifRegion,InitiavesPaixImplique:e.InitiavesPaixImplique,RelationActeurSecuritSocieteCivile:e.RelationActeurSecuritSocieteCivile,RelationActeurSecuriteMedia:e.RelationActeurSecuriteMedia,RapportGeneraleSecure:e.RapportGeneraleSecure,Province:e.Province,CommunaleUrbain:e.CommunaleUrbain,CheferieSecteur:e.CheferieSecteur})},e.prototype.changeCountry=function(e){this.ville=this.countryList.find((function(t){return t.name==e})).ville,this.secteurCheferie=this.countryList.find((function(t){return t.name==e})).secteurCheferie},e.prototype.toggleHover=function(e){this.isHovering=e},e.prototype.startUpload=function(e){var t=this;this.isPreview=!0;var i=e.item(0);if("image"===i.type.split("/")[0]){var r="Product/"+(new Date).getTime()+"_"+i.name;this.storage.ref(r),this.task=this.storage.upload(r,i,{customMetadata:{app:"My AngularFire-powered PWA!"}}),this.percentage=this.task.percentageChanges(),this.snapshot=this.task.snapshotChanges().pipe(Object(L.a)((function(){t.downloadURL=t.storage.ref(r).getDownloadURL(),t.downloadURL.subscribe((function(e){e&&(t.imgDownloadUrl=e)}))})))}else console.error("unsupported file type :( ")},e.prototype.isActive=function(e){return"running"===e.state&&e.bytesTransferred<e.totalBytes},e.\u0275fac=function(t){return new(t||e)(u.Rb(F.a),u.Rb(P.c),u.Rb(n.e),u.Rb(b.a),u.Rb(O.a),u.Rb(n.a))},e.\u0275cmp=u.Lb({type:e,selectors:[["app-secure-edit"]],decls:72,vars:9,consts:[[1,"container"],[3,"formGroup"],["fxLayoutAlign","center center",1,"card","shadow","p-3","mb-5","bg-white","rounded"],[1,"form-row"],[1,"form-group","col-md-6"],["appearance","outline"],["type","text","matInput","","placeholder","Identification des Zones de Tension","formControlName","IdentificationZoneTension"],["type","text","matInput","","placeholder","Elements de Violation de Droits Humains","formControlName","ElementViolationDroitHumain"],["type","number","matInput","","placeholder","Nbre de Groupes Arm\xe9s Actif dans la Region","formControlName","NbreGroupeArmeActifRegion"],["type","text","matInput","","placeholder","Elements de Criminalit\xe9 Urbain et Rural","formControlName","ElementCriminaliteUrbainRurale"],["id","example-radio-group-label"],["aria-labelledby","example-radio-group-label","formControlName","ViolViolenceSexuel",1,"example-radio-group"],["class","example-radio-button",3,"value",4,"ngFor","ngForOf"],["aria-labelledby","example-radio-group-label","formControlName","InitiavesPaixImplique",1,"example-radio-group"],["aria-labelledby","example-radio-group-label","formControlName","RelationActeurSecuritSocieteCivile",1,"example-radio-group"],["aria-labelledby","example-radio-group-label","formControlName","RelationActeurSecuriteMedia",1,"example-radio-group"],[1,"form-group","col-md-12"],["matNativeControl","","formControlName","Province",3,"change"],[3,"value",4,"ngFor","ngForOf"],["matNativeControl","","formControlName","CommunaleUrbain"],["value","volvo"],["matNativeControl","","formControlName","CheferieSecteur"],["data","<p>Etat G\xe9n\xe9ral S\xe9curitaire.</p>","formControlName","RapportGeneraleSecure"],["type","submit","mat-raised-button","","color","primary",1,"btn",3,"disabled","click"],[1,"example-radio-button",3,"value"],[3,"value"]],template:function(e,t){1&e&&(u.Xb(0,"div",0),u.Xb(1,"form",1),u.Xb(2,"div",2),u.Xb(3,"div",3),u.Xb(4,"div",4),u.Xb(5,"mat-form-field",5),u.Xb(6,"mat-label"),u.Jc(7,"Identification des Zones de Tension"),u.Wb(),u.Sb(8,"input",6),u.Wb(),u.Wb(),u.Xb(9,"div",4),u.Xb(10,"mat-form-field",5),u.Xb(11,"mat-label"),u.Jc(12,"Elements de Violation de Droits Humains"),u.Wb(),u.Sb(13,"input",7),u.Wb(),u.Wb(),u.Xb(14,"div",4),u.Xb(15,"mat-form-field",5),u.Xb(16,"mat-label"),u.Jc(17,"Nbre de Groupes Arm\xe9s Actif dans la Region"),u.Wb(),u.Sb(18,"input",8),u.Wb(),u.Wb(),u.Xb(19,"div",4),u.Xb(20,"mat-form-field",5),u.Xb(21,"mat-label"),u.Jc(22,"Elements de Criminalit\xe9 Urbain et Rural"),u.Wb(),u.Sb(23,"input",9),u.Wb(),u.Wb(),u.Xb(24,"div",4),u.Xb(25,"label",10),u.Jc(26,"Existe-t-il des cas de Violence Sexuel?"),u.Wb(),u.Xb(27,"mat-radio-group",11),u.Hc(28,z,2,2,"mat-radio-button",12),u.Wb(),u.Wb(),u.Xb(29,"div",4),u.Xb(30,"label",10),u.Jc(31,"Existe-t-il une Initiave de Paix?"),u.Wb(),u.Xb(32,"mat-radio-group",13),u.Hc(33,K,2,2,"mat-radio-button",12),u.Wb(),u.Wb(),u.Xb(34,"div",4),u.Xb(35,"label",10),u.Jc(36,"Relation entre Acteurs de S\xe9curit\xe9 et la Societ\xe9 Civile"),u.Wb(),u.Xb(37,"mat-radio-group",14),u.Hc(38,Y,2,2,"mat-radio-button",12),u.Wb(),u.Wb(),u.Xb(39,"div",4),u.Xb(40,"label",10),u.Jc(41,"Relation entre Acteur de S\xe9curit\xe9 et Media"),u.Wb(),u.Xb(42,"mat-radio-group",15),u.Hc(43,Q,2,2,"mat-radio-button",12),u.Wb(),u.Wb(),u.Xb(44,"div",16),u.Xb(45,"mat-form-field",5),u.Xb(46,"mat-label"),u.Jc(47,"Province"),u.Wb(),u.Xb(48,"select",17),u.fc("change",(function(e){return t.changeCountry(e.target.value)})),u.Hc(49,ee,2,2,"option",18),u.Wb(),u.Wb(),u.Xb(50,"mat-form-field",5),u.Xb(51,"mat-label"),u.Jc(52,"Ville"),u.Wb(),u.Xb(53,"select",19),u.Xb(54,"option",20),u.Jc(55,"== Aucun selectionner =="),u.Wb(),u.Hc(56,te,2,2,"option",18),u.Wb(),u.Wb(),u.Xb(57,"mat-form-field",5),u.Xb(58,"mat-label"),u.Jc(59,"Chefferie / Secteur"),u.Wb(),u.Xb(60,"select",21),u.Xb(61,"option",20),u.Jc(62,"== Aucun selectionner =="),u.Wb(),u.Hc(63,ie,2,2,"option",18),u.Wb(),u.Wb(),u.Xb(64,"div",16),u.Xb(65,"mat-label"),u.Jc(66,"Etat G\xe9n\xe9ral S\xe9curitaire"),u.Wb(),u.Sb(67,"ckeditor",22),u.Wb(),u.Xb(68,"div"),u.Xb(69,"div",16),u.Xb(70,"button",23),u.fc("click",(function(){return t.onSubmit()})),u.Jc(71," Modifier "),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb()),2&e&&(u.Db(1),u.pc("formGroup",t.addSecureForm),u.Db(27),u.pc("ngForOf",t.booleen),u.Db(5),u.pc("ngForOf",t.booleen),u.Db(5),u.pc("ngForOf",t.qualite),u.Db(5),u.pc("ngForOf",t.qualite),u.Db(6),u.pc("ngForOf",t.countryList),u.Db(7),u.pc("ngForOf",t.ville),u.Db(7),u.pc("ngForOf",t.secteurCheferie),u.Db(7),u.pc("disabled",!t.addSecureForm.valid))},directives:[P.t,P.k,P.e,m.b,q.b,q.e,E.b,P.b,P.j,P.d,P.n,N.b,r.m,P.q,P.m,P.s,U.a,d.b,N.a],styles:[".btn[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%]{width:100%}.example-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.example-radio-button[_ngcontent-%COMP%]{margin:5px}"]}),e}(),ne=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Lb({type:e,selectors:[["app-securitaire"]],decls:3,vars:0,consts:[[1,"banner"]],template:function(e,t){1&e&&(u.Xb(0,"div",0),u.Jc(1,"ASPECT SECURITAIRE"),u.Wb(),u.Sb(2,"router-outlet"))},directives:[n.j],styles:[".banner[_ngcontent-%COMP%]{border-left:6px solid green;height:40px;margin-top:10px;margin-left:10px;padding-top:10px;padding-left:10px;font-size:20px}"]}),e}(),oe=i("vjX4"),ae=i("uad8");function ce(e,t){1&e&&(u.Xb(0,"div",3),u.Xb(1,"div",4),u.Sb(2,"mat-spinner"),u.Wb(),u.Wb())}function le(e,t){if(1&e&&(u.Xb(0,"div",5),u.Xb(1,"div",6),u.Xb(2,"h3",7),u.Jc(3),u.kc(4,"date"),u.Wb(),u.Sb(5,"br"),u.Xb(6,"ul",8),u.Xb(7,"li",9),u.Xb(8,"b"),u.Jc(9,"Identification de Zone de Tension:"),u.Wb(),u.Jc(10),u.Wb(),u.Xb(11,"li",9),u.Xb(12,"b"),u.Jc(13,"Element Violation Droit Humain:"),u.Wb(),u.Jc(14),u.Wb(),u.Xb(15,"li",9),u.Xb(16,"b"),u.Jc(17,"Element de Criminalit\xe9 Urbain et Rurale:"),u.Wb(),u.Jc(18),u.Wb(),u.Xb(19,"li",9),u.Xb(20,"b"),u.Jc(21," Viol et Violence Sexuel:"),u.Wb(),u.Jc(22),u.Wb(),u.Xb(23,"li",9),u.Xb(24,"b"),u.Jc(25,"Nbre de Groupes Arm\xe9 Actif dans la Region:"),u.Wb(),u.Jc(26),u.Wb(),u.Xb(27,"li",9),u.Xb(28,"b"),u.Jc(29,"Initiaves de Paix Impliqu\xe9:"),u.Wb(),u.Jc(30),u.Wb(),u.Xb(31,"li",9),u.Xb(32,"b"),u.Jc(33,"Relation de Acteur Securit\xe9 et Societ\xe9 Civile:"),u.Wb(),u.Jc(34),u.Wb(),u.Xb(35,"li",9),u.Xb(36,"b"),u.Jc(37,"Relation de Acteur Securit\xe9 et M\xe9dia:"),u.Wb(),u.Jc(38),u.Wb(),u.Xb(39,"li",9),u.Xb(40,"b"),u.Jc(41,"Province:"),u.Wb(),u.Jc(42),u.Wb(),u.Xb(43,"li",9),u.Xb(44,"b"),u.Jc(45,"Ville:"),u.Wb(),u.Jc(46),u.Wb(),u.Xb(47,"li",9),u.Xb(48,"b"),u.Jc(49,"Cheferie / Secteur:"),u.Wb(),u.Jc(50),u.Wb(),u.Xb(51,"li",9),u.Xb(52,"b"),u.Jc(53,"Identification de Zone de Tension:"),u.Wb(),u.Jc(54),u.Wb(),u.Wb(),u.Sb(55,"br"),u.Xb(56,"div"),u.Xb(57,"h4"),u.Xb(58,"b"),u.Jc(59,"Rapport detaill\xe9"),u.Wb(),u.Wb(),u.Sb(60,"div",10),u.Wb(),u.Xb(61,"div",6),u.Xb(62,"h2"),u.Jc(63,"Information de l'\xe9diteur"),u.Wb(),u.Xb(64,"ul",8),u.Xb(65,"li",9),u.Xb(66,"b"),u.Jc(67,"Nom:"),u.Wb(),u.Jc(68),u.Wb(),u.Xb(69,"li",9),u.Xb(70,"b"),u.Jc(71,"T\xe9l\xe9phone:"),u.Wb(),u.Jc(72),u.Wb(),u.Xb(73,"li",9),u.Xb(74,"b"),u.Jc(75,"Email:"),u.Wb(),u.Jc(76),u.Wb(),u.Xb(77,"li",9),u.Xb(78,"b"),u.Jc(79,"Adresse physique:"),u.Wb(),u.Jc(80),u.Wb(),u.Xb(81,"li",9),u.Xb(82,"b"),u.Jc(83,"Niveau d'acr\xe9ditation:"),u.Wb(),u.Jc(84),u.Wb(),u.Xb(85,"li",9),u.Xb(86,"b"),u.Jc(87,"Etat Civile:"),u.Wb(),u.Jc(88),u.Wb(),u.Xb(89,"li",9),u.Xb(90,"b"),u.Jc(91,"Identifiant Unique:"),u.Wb(),u.Jc(92),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb()),2&e){var i=u.jc();u.Db(3),u.Lc("Rapport du ",u.mc(4,21,i.SecureView.Created,"dd/MM/yyy \xe0 H:mm:ss"),""),u.Db(7),u.Lc(" ",i.SecureView.IdentificationZoneTension,""),u.Db(4),u.Lc(" ",i.SecureView.ElementViolationDroitHumain,""),u.Db(4),u.Lc(" ",i.SecureView.ElementCriminaliteUrbainRurale,""),u.Db(4),u.Lc(" ",i.SecureView.ViolViolenceSexuel,""),u.Db(4),u.Lc(" ",i.SecureView.NbreGroupeArmeActifRegion,""),u.Db(4),u.Lc(" ",i.SecureView.InitiavesPaixImplique,""),u.Db(4),u.Lc(" ",i.SecureView.RelationActeurSecuritSocieteCivile,""),u.Db(4),u.Lc(" ",i.SecureView.RelationActeurSecuriteMedia,""),u.Db(4),u.Lc(" ",i.SecureView.Province,""),u.Db(4),u.Lc(" ",i.SecureView.CommunaleUrbain,""),u.Db(4),u.Lc(" ",i.SecureView.CheferieSecteur,""),u.Db(4),u.Lc(" ",i.SecureView.IdentificationZoneTension,""),u.Db(6),u.pc("innerHTML",i.SecureView.RapportGeneraleSecure,u.Bc),u.Db(8),u.Lc(" ",i.agentInfo.name,""),u.Db(4),u.Lc(" ",i.agentInfo.phoneNumber,""),u.Db(4),u.Lc(" ",i.agentInfo.email,""),u.Db(4),u.Lc(" ",i.agentInfo.useraddress,""),u.Db(4),u.Lc(" ",i.agentInfo.role,""),u.Db(4),u.Lc(" ",i.agentInfo.etatCivile,""),u.Db(4),u.Lc(" ",i.agentInfo.uid,"")}}var ue=[{path:"",component:ne,children:[{path:"secure-list",component:V},{path:"secure-add",component:j},{path:"secure-edit/:id",component:re},{path:"secure-view/:id",component:function(){function e(e,t,i){this.route=e,this.secureService=t,this.security=i,this.SecureView={},this.loading=!1;var r=this.route.snapshot.paramMap.get("id");this.getDetails(r)}return e.prototype.ngOnInit=function(){this.setRole()},e.prototype.setRole=function(){var e=this;this.security.getRole().subscribe((function(t){e.currentRole=t}))},e.prototype.getSecureViewby=function(e){var t=this;this.loading=!0,this.secureService.getSecureBySecureId(e).subscribe((function(e){t.secureData=e,t.secureService.getProfileByAgentId(e.data.agentId).subscribe((function(e){t.agentInfo=e.data,t.loading=!1}),(function(e){t.loading=!1}))}),(function(e){t.loading=!1}))},e.prototype.getDetails=function(e){var t=this;this.loading=!0,this.secureService.getOneProduct(e).subscribe((function(e){t.SecureView=e,t.secureService.getProfileByAgentId(e.agentId).subscribe((function(e){t.agentInfo=e.data,t.loading=!1}),(function(e){t.loading=!1})),t.loading=!1}))},e.\u0275fac=function(t){return new(t||e)(u.Rb(n.a),u.Rb(b.a),u.Rb(oe.a))},e.\u0275cmp=u.Lb({type:e,selectors:[["app-secure-view"]],decls:3,vars:2,consts:[["class","container",4,"ngIf"],[1,"container","m"],["fxLayout","column","fxLayoutAlign","flex-start flex-start",4,"ngIf"],[1,"container"],[1,"d-flex","justify-content-center"],["fxLayout","column","fxLayoutAlign","flex-start flex-start"],[1,"card","shadow","p-3","mb-5","bg-white","rounded"],[1,"text-break"],[1,"list-group","list-group-flush"],[1,"list-group-item","text-break"],[1,"text-justify",3,"innerHTML"]],template:function(e,t){1&e&&(u.Hc(0,ce,3,0,"div",0),u.Xb(1,"div",1),u.Hc(2,le,93,24,"div",2),u.Wb()),2&e&&(u.pc("ngIf",t.loading),u.Db(2),u.pc("ngIf",!t.loading))},directives:[r.n,ae.b,m.c,m.b],pipes:[r.e],styles:["mat-card[_ngcontent-%COMP%]{display:block;clear:both;margin:0 auto;width:100%;max-width:300px;text-align:center}mat-card-header[_ngcontent-%COMP%]{padding-bottom:20px;line-height:1.1}"]}),e}()},{path:"",redirectTo:"secure-list",pathMatch:"full"}]}],be=function(){function e(){}return e.\u0275mod=u.Pb({type:e}),e.\u0275inj=u.Ob({factory:function(t){return new(t||e)},imports:[[n.i.forChild(ue)],n.i]}),e}(),de=i("PCNd"),se=function(){function e(){}return e.\u0275mod=u.Pb({type:e}),e.\u0275inj=u.Ob({factory:function(t){return new(t||e)},imports:[[r.c,be,de.a]]}),e}()}}]);